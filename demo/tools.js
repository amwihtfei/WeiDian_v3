function is_weixn(){var a=navigator.userAgent.toLowerCase();return"micromessenger"==a.match(/MicroMessenger/i)?!0:!1}$(function(){pop.popClick($(".js-csch"),$(".js-cates")),pop.popClick($(".js-info"),$(".js-shop")),pop.popClick($(".js-sort"),$(".js-price")),pop.popClick($(".js-face"),$(".js-shop")),pop.popClick($(".js-addClass"),$(".js-addProClass")),pop.popSelect(),pop.popBack(),pop.popUp($(".js-choose"),$(".js-chooseStandard")),pop.popUp($(".js-invite"),$(".js-ali-invite")),pop.popUp($(".js-choose-host"),$(".js-hostChoose")),pop.popUp($(".js-allClass"),$(".js-allClassDiv")),pop.popDown(),tab.tabClick($(".js-tab"),"sel"),tab.tabClick($(".com-container"),"sel"),tab.tabClick($(".js-list-tab"),"cur"),tab.tabClick($(".js-com"),"cart-cur"),tab.tabClick($(".js-orderTab"),"order-cur"),buyNow.listClick()});var pop=new Object({popClick:function(a,b){$(a).click(function(){$("#popLayerWrap").removeClass("none"),$("#popLayerWrap2")&&$("#popLayerWrap2").removeClass("none"),$(".pop-layer").css("left","100%"),$(".pop-layer").stop(!0,!1).animate({left:"40px"}),$(b).removeClass("none")})},popBack:function(){$(".js-popWrap").click(function(){$(".pop-layer").stop(!0,!1).animate({left:"100%"},function(){$("#popLayerWrap").addClass("none"),$("#popLayerWrap2")&&$("#popLayerWrap2").addClass("none"),$(".js-cates").addClass("none"),$(".js-shop").addClass("none"),$(".js-price").addClass("none")})})},popSelect:function(){$(".title").click(function(){$(this).children(".sc-arr").hasClass("arr-d")?$(this).children(".sc-arr").removeClass("arr-d").addClass("arr-r"):$(this).children(".sc-arr").removeClass("arr-r").addClass("arr-d"),$(this).next().slideToggle()})},popUp:function(a,b){$(a).click(function(){$("#popLayerWrap").removeClass("none"),$(".pop-layer").css("top","100%");var a=$(window).height(),c=0;c=0!=$(".js-ali-invite").length?150:0!=$(".js-hostChoose").length?226:0!=$(".js-pop-createAli").length?250:0!=$(".js-allClassDiv").length?76+32*Math.round(parseFloat($(".cls-opt").length/3)):331;var d=$(".js-dgli").length,e=40*Math.round(parseInt(d/3)),f=parseInt(a)-(parseInt(c)+parseInt(e));$(".pop-layer").stop(!0,!1).animate({top:f+"px"}),$(b).removeClass("none")})},popDown:function(){$(".js-popWrapUp").click(function(){$(".pop-layer").stop(!0,!1).animate({top:"100%"},function(){$("#popLayerWrap").addClass("none"),$(".js-chooseStandard").addClass("none")})}),$(".js-x").click(function(){$(".pop-layer").stop(!0,!1).animate({top:"100%"},function(){$("#popLayerWrap").addClass("none"),$(".js-chooseStandard").addClass("none")})})},popUpC:function(a,b){$(a).click(function(){$("#popUpWrap").removeClass("none"),$(".pop-up").height(b)})},popDownC:function(){$(".js-mask, .js-x").click(function(){$(".pop-up").height("0"),setTimeout(function(){$("#popUpWrap").addClass("none")},600)})},popLeftC:function(a,b,c){$(b).click(function(){$(a).removeClass("none"),$(a).children(".pop-left").width(c)})},popRightC:function(a){$(".js-mask, .js-x").click(function(){$(a).children(".pop-left").width("0"),setTimeout(function(){$(a).addClass("none")},600)})}}),tab=new Object({tabClick:function(a,b){var c=$(a).find("li"),d=$(a).siblings();$(c).click(function(){$(c).removeClass(b),$(this).addClass(b);var a=$(this).index();$(d).addClass("hide"),$(d).eq(a).removeClass("hide")})}}),buyNow=new Object({listClick:function(){$(".buy-title").click(function(){$(".js-buy-click").hasClass("buy-title-arr-up")?($(".buy-title-arr-up").removeClass("buy-title-arr-up").addClass("buy-title-arr-down"),$(".buy-pros").removeClass("none"),$(".buy-deliver").removeClass("none"),$(".buy-message").removeClass("none"),$(".buy-msg").removeClass("none"),$(".js-arr-con").addClass("buy-title-arr-con-down").removeClass("buy-title-arr-con-up")):($(".buy-title-arr-down").removeClass("buy-title-arr-down").addClass("buy-title-arr-up"),$(".buy-pros").addClass("none"),$(".buy-deliver").addClass("none"),$(".buy-message").addClass("none"),$(".buy-msg").addClass("none"),$(".js-arr-con").addClass("buy-title-arr-con-up").removeClass("buy-title-arr-con-down"))})},countPrice:function(a,b,c){return a=new BigDecimal(a.toString()).subtract(new BigDecimal(b.toString())).add(new BigDecimal(c.toString())),(0>=a?0:a).toString()}});