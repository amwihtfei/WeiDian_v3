<!DOCTYPE html>
<html class="no-js">
<head>
  <meta charset="UTF-8">
  <title>Countdown.js Demo</title>
  <style>
    article,aside,details,figcaption,figure,footer,header,nav,section{display:block;}audio,canvas,video{display:inline-block;*display:inline;*zoom:1;}audio:not([controls]){display:none;}[hidden]{display:none;}html{font-size:100%;overflow-y:scroll;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;}body{margin:0;}body,button,input,select,textarea{font-family:sans-serif;}a{color:#00e;}a:visited{color:#551a8b;}a:focus{outline:thin dotted;}a:hover,a:active{outline:0;}abbr[title]{border-bottom:1px dotted;}b,strong{font-weight:bold;}blockquote{margin:1em 40px;}dfn{font-style:italic;}mark{background:#ff0;color:#000;}pre,code,kbd,samp{font-family:monospace,serif;_font-family:Consolas,'courier new',monospace;font-size:1em;}pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word;}q{quotes:none;}q:before,q:after{content:'';content:none;}small{font-size:75%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}ul,ol{margin:1em 0;padding:0 0 0 40px;}dd{margin:0 0 0 40px;}nav ul,nav ol{list-style:none;list-style-image:none;}img{border:0;-ms-interpolation-mode:bicubic;}svg:not(:root){overflow:hidden;}figure{margin:0;}form{margin:0;}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em;}legend{border:0;*margin-left:-7px;}button,input,select,textarea{font-size:100%;margin:0;vertical-align:baseline;*vertical-align:middle;}button,input{line-height:normal;*overflow:visible;}table button,table input{*overflow:auto;}button,input[type="button"],input[type="reset"],input[type="submit"]{cursor:pointer;-webkit-appearance:button;}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0;}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;}input[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}textarea{overflow:auto;vertical-align:top;}table{border-collapse:collapse;border-spacing:0;}

    body, input {
      font-size: 100%;
    }
    body {
      background-color: #F8F8F8;
      font-family: "Helvetica Neue Light", "HelveticaNeue-Light", "Helvetica Neue", Calibri, Helvetica, Arial;
      margin: auto;
      width: 80%;
      min-width: 600px;
    }

    h1, h1 a:link, h1 a:hover, h1 a:active, h1 a:visited {
      color: #999;
      font-family: LeagueGothicRegular, 'League Gothic', "Helvetica Neue Light", "HelveticaNeue-Light", "Helvetica Neue", Calibri, Helvetica, Tahoma, Arial, sans-serif;
      text-decoration: none;
    }
    h1 {
      font-size: 1000%;
      margin: 0 auto 0.25em;
      padding: 0;
      text-align: center;
      text-shadow: 0px -1px 1px silver;
      white-space: nowrap;
    }
    h2 {
      font-size: 150%;
    }
    h3 {
      font-size: 125%;
    }

    a:link, a:hover, a:active, a:visited {
      color: #006699;
    }

    dl {
      margin: 0;
      padding: 0.75em 0.25em;
    }

    dl dt {
      font-weight: bold;
      margin: 0 0 0 0.5em;
      padding: 0.25em 0 0.25em 0.5em;
    }

    dl dd {
      list-style-type: none;
      margin: 0 0 0 1.5em;
      padding: 0.25em 0 0.25em 1.5em;
    }

    pre {
      background: #F7F7F7;
      border: 1px solid #DDD;
      border-radius: 3px;
      -mox-border-radius: 3px;
      -webkit-border-radius: 3px;
      padding: 9px 12px;
    }

    footer {
      border-top: 1px solid #F1F1F1;
      clear: both;
      margin: 4em auto;
      padding-top: 1em;
      text-align: right;
    }

    .breaking-change {
      border: 1px solid #990000;
      border-radius: 3px;
      -mox-border-radius: 3px;
      -webkit-border-radius: 3px;
      font-style: italic;
      padding: 0 1em;
      margin: 1em 0;
    }

    .breaking-change:target {
      -webkit-animation: target-fade 5s 1;
      -moz-animation: target-fade 5s 1;
      -o-animation: target-fade 5s 1;
      animation: target-fade 5s 1;
    }

    @-webkit-keyframes target-fade {
      0% { background-color: #FFFF66; }
      100% { background-color: rgba(0,0,0,0); }
    }
    @-moz-keyframes target-fade {
      0% { background-color: #FFFF66; }
      100% { background-color: rgba(0,0,0,0); }
    }
    @-o-keyframes target-fade {
      0% { background-color: #FFFF66; }
      100% { background-color: rgba(0,0,0,0); }
    }
    @keyframes target-fade {
      0% { background-color: #FFFF66; }
      100% { background-color: rgba(0,0,0,0); }
    }

    #counter {
      border: 0;
      font-size: 250%;
      font-weight: normal;
      min-height: 3em;
      text-align: center;
    }
    #counter strong {
      white-space: nowrap;
    }

    #countdown-start,
    #countdown-units {
      background-color: #EEE;
      border-radius: 4px;
      -moz-border-radius: 4px;
      -webkit-border-radius: 4px;
      font-size: 150%;
      padding: 0.25em 0.5em;
      /*	width: 100%;*/
    }
    #countdown-start span,
    #countdown-units span {
      line-height: 1.5em;
      white-space: nowrap;
    }
    #countdown-start,
    #countdown-units {
      text-align: center;
    }
    #countdown-start label {
      font-weight: bold;
      padding: 0 0.25em;
    }
    #countdown-start input {
      border: 1px solid silver;
      border-radius: 4px;
      -moz-border-radius: 4px;
      -webkit-border-radius: 4px;
      text-align: center;
    }
    #countdown-units span {
      display: block;
    }
    #countdown-units label {
      font-weight: bold;
      padding: 0.25em;
    }
    #countdown-units input {
      border: 1px solid silver;
      border-radius: 4px;
      -moz-border-radius: 4px;
      -webkit-border-radius: 4px;
      margin-right: 0.5em;
      text-align: center;
    }

    /* http://ubuwaits.github.com/css3-buttons/ */

    a.minimal:link, a.minimal:visited {
      background: #e3e3e3;
      border: 1px solid #ccc;
      border-radius: 3px;
      -moz-border-radius: 3px;
      -webkit-border-radius: 3px;
      box-shadow: inset 0px 0px 1px 1px #f6f6f6;
      -moz-box-shadow: inset 0px 0px 1px 1px #f6f6f6;
      -webkit-box-shadow: inset 0px 0px 1px 1px #f6f6f6;
      color: #333;
      display: inline-block;
      font-family: "helvetica neue", helvetica, arial, sans-serif;
      font-size: 12px;
      font-weight: bold;
      line-height: 1;
      padding: 8px 0 9px;
      text-align: center;
      text-decoration: none;
      text-shadow: 0 1px 0px #fff;
      width: 150px;
    }

    a.minimal:hover {
      background: #d9d9d9;
      box-shadow: inset 0px 0px 1px 1px #eaeaea;
      -moz-box-shadow: inset 0px 0px 1px 1px #eaeaea;
      -webkit-box-shadow: inset 0px 0px 1px 1px #eaeaea;
      color: #222;
    }

    a.minimal:active {
      background: #d0d0d0;
      box-shadow: inset 0px 0px 1px 1px #e3e3e3;
      -moz-box-shadow: inset 0px 0px 1px 1px #e3e3e3;
      -webkit-box-shadow: inset 0px 0px 1px 1px #e3e3e3;
      color: #000;
    }

    .summary {
      font-size: 12pt;
      text-align: center;
    }

    .box {
      background-color: #FFF;
      border: 1px solid silver;
      border-radius: 4px;
      -moz-border-radius: 4px;
      -webkit-border-radius: 4px;
      box-shadow: 0px 0px 4px #DDDDDD;
      -moz-box-shadow: 0px 0px 4px #DDDDDD;
      -webkit-box-shadow: 0px 0px 4px #DDDDDD;
      float: left;
      height: 200px;
      line-height: 1.75em;
      margin: 0.5em 0 0.5em 0.5em;
      padding: 0.125em 0.5em;

      width: 45%;
    }

    .box h2 {
      border-bottom: none;
      color: #666;
      font-size: 30px;
      font-weight: bold;
      text-align: center;
      text-shadow: 0 -1px 1px silver;
      text-transform: lowercase;
    }

    .box ul, .box li {
      list-style-type: none;
      margin: 0;
      padding: 0;
      white-space: nowrap;
    }

    .box a.minimal {
      margin: 0.25em;
      text-transform: lowercase;
    }

    .box a.glow {
      box-shadow: 0px 0px 4px #FFCC00;
      -moz-box-shadow: 0px 0px 4px #FFCC00;
      -webkit-box-shadow: 0px 0px 4px #FFCC00;
    }

    .action-info {
      font-style: italic;
      white-space: nowrap;
    }
  </style>
</head>
<body>
<div>
  <h2 id="counter">Countdown.js Demo</h2>
  <form>
    <h3>开始时间</h3>
    <fieldset id="countdown-start"><span>
				<input id="year"
               type="number"
               min="-9999"
               max="9999"
               step="1"
               value="1991"
               size="4"
               placeholder="year"
          /><label for="month">-</label><input id="month"
                                               type="number"
                                               min="1"
                                               max="12"
                                               step="1"
                                               value="8"
                                               size="2"
                                               placeholder="month"
      /><label for="date">-</label><input id="date"
                                          type="number"
                                          min="1"
                                          max="31"
                                          step="1"
                                          value="6"
                                          size="2"
                                          placeholder="day"
      /></span>
				<span><label for="hours">&nbsp;</label><input id="hours"
                                                      type="number"
                                                      min="0"
                                                      max="23"
                                                      step="1"
                                                      value="14"
                                                      size="2"
                                                      placeholder="hrs"
          /><label for="minutes">:</label><input id="minutes"
                                                 type="number"
                                                 min="0"
                                                 max="59"
                                                 step="1"
                                                 value="56"
                                                 size="2"
                                                 placeholder="min"
          /><label for="seconds">:</label><input id="seconds"
                                                 type="number"
                                                 min="0"
                                                 max="59"
                                                 step="1"
                                                 value="20"
                                                 size="2"
                                                 placeholder="sec"
          /><label for="milliseconds">.</label><input id="milliseconds"
                                                      type="number"
                                                      min="0"
                                                      max="999"
                                                      step="1"
                                                      value="0"
                                                      size="3"
                                                      placeholder="ms"
          /></span>
      <span id="timezone">&nbsp;UTC</span>
    </fieldset>

    <h3>显示单位</h3>
    <fieldset id="countdown-units">
      <span>
				<label for="units-millennia"><input id="units-millennia" type="checkbox"/>millennia</label>
				<label for="units-centuries"><input id="units-centuries" type="checkbox"/>centuries</label>
				<label for="units-decades"><input id="units-decades" type="checkbox"/>decades</label>
			</span>
      <span>
				<label for="units-years"><input id="units-years" type="checkbox"/>years</label>
				<label for="units-months"><input id="units-months" type="checkbox"/>months</label>
				<label for="units-weeks"><input id="units-weeks" type="checkbox"/>weeks</label>
				<label for="units-days"><input id="units-days" type="checkbox"/>days</label>
			</span>
      <span>
				<label for="units-hours"><input id="units-hours" type="checkbox"/>hours</label>
				<label for="units-minutes"><input id="units-minutes" type="checkbox"/>minutes</label>
				<label for="units-seconds"><input id="units-seconds" type="checkbox"/>seconds</label>
				<label for="units-milliseconds"><input id="units-milliseconds" type="checkbox"/>milliseconds</label>
			</span>
      <span>
				<label for="empty-label">empty</label><input id="empty-label" type="text" value="now!"/>
			</span>
      <span>
				<label for="max-units">max</label><input id="max-units" type="number" min="0" max="11" value="11"/>
				<label for="frac-digits">digits</label><input id="frac-digits" type="number" min="0" max="20" value="0"/>
			</span>
    </fieldset>
  </form>

  <h3>Timespan object</h3>
  <pre id="timespan"></pre>
</div>
<script>
  //requestAnimationFrame 兼容代码
  (function () {
    var lastTime = 0;
    var vendors = ['ms', 'moz', 'webkit', 'o'];
    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
      window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
      window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame']
        || window[vendors[x] + 'CancelRequestAnimationFrame'];
    }

    if (!window.requestAnimationFrame)
      window.requestAnimationFrame = function (callback, element) {
        var currTime = new Date().getTime();
        var timeToCall = Math.max(0, 16 - (currTime - lastTime));
        var id = window.setTimeout(function () {
            callback(currTime + timeToCall);
          },
          timeToCall);
        lastTime = currTime + timeToCall;
        return id;
      };

    if (!window.cancelAnimationFrame)
      window.cancelAnimationFrame = function (id) {
        clearTimeout(id);
      };
  }());
</script>
<script src="Public/js/countdown.min.js" type="text/javascript"></script>
<script>
  (function () {
    function byId(id) {
      return document.getElementById(id);
    }

    function formatTens(n) {
      // format integers to have at least two digits
      return (n < 10) ? '0' + n : '' + n;
    }

    // initialize units
    for (var key in countdown) {
      if (countdown.hasOwnProperty(key)) {
        var unit = byId('units-' + key.toLowerCase());
        if (unit) {
          unit.value = countdown[key];
          unit.checked = countdown[key] & countdown.DEFAULTS;
        }
      }
    }

    // Mayan Calendar: 1356088271111

    // https://groups.google.com/group/alt.hypertext/msg/06dad279804cb3ba?dmode=source
    var DEMO_MS = 681490580000,
      DEMO_PAST = 'The World Wide Web debuted',
      DEMO_FUTURE = 'The World Wide Web debuts';

    // adjust initial demo time for local timezone
    byId('hours').value -= new Date(DEMO_MS).getTimezoneOffset() / 60;

    function update() {
      var units = ~countdown.ALL,
        chx = byId('countdown-units').getElementsByTagName('input'),
        empty = byId('empty-label').value || null,
        max = +(byId('max-units').value),
        digits = +(byId('frac-digits').value);

      for (var i = 0, count = chx.length; i < count; i++) {
        if (chx[i].checked) {
          units |= +(chx[i].value);
        }
      }

      var yyyy = +(byId('year').value),
        MM = +(byId('month').value) - 1,
        dd = +(byId('date').value),
        HH = +(byId('hours').value),
        mm = +(byId('minutes').value),
        ss = +(byId('seconds').value),
        fff = +(byId('milliseconds').value);

      var start = new Date(yyyy, MM, dd, HH, mm, ss, fff),
        ts = countdown(start, null, units, max, digits);

      var counter = byId('counter'),
        timespan = byId('timespan'),
        msg = ts.toHTML('strong', empty);

      if (start.getTime() === DEMO_MS) {
        msg = (ts.value > 0) ?
        DEMO_PAST + ' ' + msg + ' ago!' :
        DEMO_FUTURE + ' in ' + msg + '!';
      }

      counter.innerHTML = msg;
      timespan.innerHTML = JSON.stringify(ts, null, '  ');

      // update timezone label
      var tz = start.getTimezoneOffset();
      if (tz) {
        var tzh = Math.floor(Math.abs(tz) / 60),
          tzm = (Math.abs(tz) % 60);
        byId('timezone').innerHTML = 'UTC' + ((tz > 0) ? '-' : '+') + formatTens(tzh) + ':' + formatTens(tzm);

      } else {
        byId('timezone').innerHTML = 'UTC';
      }

      requestAnimationFrame(update, timespan.parentNode);
    }

    update();
  })();
</script>
</body>
</html>
