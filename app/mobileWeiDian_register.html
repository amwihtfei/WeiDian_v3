<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>幸运叶子运动名品网</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta name="format-detection" content="telephone=no">
    <link href="Public/css/bootstrap.css" rel="stylesheet">
    <link href="Public/css/base.css" rel="stylesheet">
    <link href="Public/css/main.css" rel="stylesheet">
    <link href="Public/css/font-awesome.css" rel="stylesheet">
    <link href="Public/css/button.css" rel="stylesheet">
</head>
<body>
<header class="nav-wrap">
    <div class="nav">
        <a href="javascript:history.go(-1);" class="nav-back">
            <i class="icon-2x icon-angle-left"></i>
        </a>
        <div class="nav-title">
            注册
        </div>
    </div>
</header>
<section class="reg-content">
    <form method="post" id="reg-form">
        <fieldset>
            <div class="reg-module">
                <div class="reg-user-wrap reg-form-wrap relative">
                    <input type="text" class="js-name" name="username" placeholder="账户名">
                </div>
                <div class="js-name-text reg-agree"></div>
            </div>

            <div class="reg-module">
                <div class="clearfix">
                    <div class="reg-code-wrap reg-form-wrap relative">
                        <input type="text" class="js-code" name="code"  placeholder="输入验证码">
                    </div>
                    <div class="reg-code-img">
                        <a href="javascript:void(0);" class="js-valCode valCode">
                            获取验证码
                        </a>
                    </div>
                </div>
                <div class="js-code-text"></div>
            </div>

            <div class="reg-module">
                <div class="reg-tel-wrap reg-form-wrap relative">
                    <input type="tel" class="js-tel" name="phone" placeholder="手机号">
                </div>
                <div class="js-tel-text reg-agree"></div>
            </div>
            <div class="reg-module">
                <div class="reg-pwd-wrap reg-form-wrap relative">
                    <input type="password"  class="js-pwd" name="pwd" placeholder="密码">
                </div>
                <div class="js-pwd-text reg-agree"></div>
            </div>


            <div class="reg-bottom">
                <label for="agree">
                    <input type="checkbox" id="agree" name="agree">
                    <div class="reg-agree">是否同意XXX协议</div>
                </label>
                <input type="submit" class="reg-btn" value="注 册">
            </div>

        </fieldset>
    </form>
</section>


<script src="Public/js/jquery-1.8.3.js"></script>
<script src="Public/js/bootstrap.js"></script>
<script src="Public/js/tools.js"></script>
<!--<script src="js/register.js"></script>-->
<script src="Public/js/jquery.validate.js"></script>
<script src="Public/js/formValidatorClass.js"></script>
<script>
$(function() {
    //开始验证
    $('#reg-form').validate({
        /* 设置验证规则 */
        rules: {
            username: {
                required: true,
                stringCheck: true,
                byteRangeLength: [3, 15]
            },
            email: {
                required: true,
                email: true
            },
            phone: {
                required: true,
                isPhone: true
            },
            address: {
                required: true,
                stringCheck: true,
                byteRangeLength: [3, 100]
            },
            pwd: {
                required: true
            },
            code: {
                required: true
            }
        },

        /* 设置错误信息 */
        messages: {
            username: {
                required: "请填写用户名",
                stringCheck: "用户名只能包括中文字、英文字母、数字和下划线",
                byteRangeLength: "用户名必须在3-15个字符之间(一个中文字算2个字符)"
            },
            email: {
                required: "请输入一个Email地址",
                email: "请输入一个有效的Email地址"
            },
            phone: {
                required: "请输入您的联系电话",
                isPhone: "请输入一个有效的联系电话"
            },
            address: {
                required: "请输入您的联系地址",
                stringCheck: "请正确输入您的联系地址",
                byteRangeLength: "请详实您的联系地址以便于我们联系您"
            },
            pwd: {
                required: "请输入密码"
            },
            code: {
                required: "请输入验证码"
            }
        },

        /* 设置验证触发事件 */
        focusInvalid: false,
        onkeyup: false,

        /* 设置错误信息提示DOM */
        errorPlacement: function (error, element) {
            error.appendTo(element.parent());
        }

    });
});
</script>
<script>
    $valCode = $('.js-valCode');
    $valCode.on('click',function () {
        wait_click($(this));
    });

    function wait_click(){
        $valCode = $('.js-valCode');
        var num = 10;
        $valCode.addClass('code-mask')
        var timer = setInterval(function () {
            $valCode.off('click');
            $valCode.text( num + '秒后重新获取' );
            num--;
            if (num < 0) {
                clearTimeout(timer);
                $valCode.text('获取验证码');
                $valCode.removeClass('code-mask');
                $valCode.on('click',function(){
                    wait_click();
                });
            }
        },1000);
    }
</script>
</body>
</html>