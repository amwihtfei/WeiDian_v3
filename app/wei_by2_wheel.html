<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>demo</title>
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta name="format-detection" content="telephone=no">
  <style>
    html, body{
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
    }
    h1, h2, h3, h4, h5, h6, hr, p, blockquote, dl, dt, dd, ul, ol, li, pre, form, fieldset, legend, button,
    input, textarea, th, td {
      margin: 0;
      padding: 0
    }

    h1, h2, h3, h4, h5, h6 {
      font-size: 100%
    }

    ul, ol, li {
      list-style: none
    }

    em, i {
      font-style: normal
    }

    strong, b {
      font-weight: normal
    }

    img {
      border: 0
    }

    input, img {
      vertical-align: middle
    }

    a {
      text-decoration: none
    }

    a:hover{
      text-decoration: none;
    }
    .clearfix:after {
      display: block;
      content: '';
      clear: both;
      visibility: hidden
    }


    .wheel-container{
      position: relative;
      width: 100%;
      /*height: 100%;*/
      background: url("Public/img/rolling/wheel_bg.png") no-repeat center top;
      background-size: 100% auto;
    }
    .machine{
      padding: 48% 0 24% 0;
      margin: 0 auto;
      width:78%;
    }
    .machine li{
      position: relative;
      background-color: #ffdf3e;
      margin: 1px;
    }
    .machine li img{
      position: absolute;
      left: 50%;
      margin-left: -26%;
      top: 20%;
      width: 52%;

    }
    .machine li::after{
      background-color:#ffc027;
      content: "";
      bottom: 0;
      left: 0;
      right: 0;
      height: 5px;
      position: absolute;
    }
    .machine li.dark{
      background-color: #ffc027;
    }
    .machine li.dark::after{
      background-color:#ff8d27;
      content: "";
      bottom: 0;
      left: 0;
      right: 0;
      height: 5px;
      position: absolute;
    }

    .top-row{
      width: 100%;
    }
    .top-row li{
      float: left;
      width: calc(25% - 2px);
      padding-bottom: calc(25% - 2px);
    }

    .middle-row{
      width: 100%;
    }
    .middle-row-left{
      float: left;
      width: calc(25% - 2px);
    }
    .middle-row-right{
      float: left;
      width: calc(25% - 2px);
    }
    .middle-row-left li, .middle-row-right li{
      width: 100%;
      padding-bottom: 100%;
    }
    .machine-control-cell{
      float: left;
      width: calc(50% + 2px);
      text-align: center;
    }
    .machine-control img{
      width: 71.5%;
      margin-top: 13%;
    }

    .bottom-row{
      width: 100%;
    }
    .bottom-row li{
      float: left;
      width: calc(25% - 2px);
      padding-bottom: calc(25% - 2px);
    }
    .pop-mask{
      position: fixed;
      top:0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 10;
      background: rgba(0,0,0,.85);
      overflow: hidden;
    }
    .share-container{
      position: relative;
      font-weight: bold;
      color: #fff;
      width: 66.67%;
      margin: 25% auto;
    }
    .share-container div{
      line-height: 28px;
    }
    .share-img{
      position: absolute;
      right: -30px;
      top: -50px;
      width: 40%;
    }
    .more-img{
      width: 16px;
      margin-left: 5px;
      margin-top: -4px;
    }
    .friends-img{
      width: 16px;
      margin-left: 5px;
      margin-top: -5px;
    }
    .draw-container, .pop-container{
      position: absolute;
      top:50%;
      margin-top: -10%;
      left: 50%;
      margin-left: -40%;
      height: 20%;
      width: 80%;
      border-radius: 5px;
      background-color: #fff;
    }
    .pop-txt{
      width: 90%;
      height: 40%;
      padding: 5%;
      overflow: hidden;
      text-align: center;
      color: red;

    }
    .pop-btn{
      width: 100%;
      text-align: center;
    }
    .cancel{
      display: inline-block;
      width: 30%;
      line-height: 30px;
      color: #fff;
      background-color: red;
      border: 1px solid red;
      border-radius: 4px;
      text-align: center;
      margin-right: 10px;
    }
    .ok{
      display: inline-block;
      width: 60%;
      line-height: 30px;
      color: #fff;
      background-color: red;
      border: 1px solid red;
      border-radius: 4px;
      text-align: center;
    }
    .show{
      display: block;
    }
    .hide {
      display: none!important;
      visibility: hidden;
    }
    .by2-con{
      width: 100%;
      /*height: 100%;*/
      background: url("Public/img/rolling/bg.png") repeat top left;
    }
    .info-area {
      padding-top: 10px;
      padding-bottom: 20px;
      width: 275px;
      margin: 0 auto;
    }
    .view-prize {
      font-size: 14px;
      text-align: right;
      color: #ffc73d;
    }
    .view-prize a {
      color: #ffc73d;
    }
    ul.activity-info {
      color: #e2bfe0;
    }
    ul.activity-info {
      font-size: 12px;
      margin: 0;
      margin-top: 5px;
    }
    ul.activity-info li {
      margin-bottom: 5px;
      line-height: 1.5em;
    }
    ul.activity-info .activity-note {
      margin-top: 10px;
      line-height: 16px;
    }
    ul.activity-info li .activity-info-content {
      margin-left: 1em;
      word-break: break-all;
    }
    ul.activity-info .user-center {
      color: #ffc73d;
    }

    .pop-up-wrap {
      position: fixed;
      width: 100%;
      height: 100%;
      left: 0;
      bottom: 0;
      z-index: 997;
      overflow: hidden;
    }
    .pop-up {
      position: fixed;
      bottom: 0;
      z-index: 999;
      background-color: #fff;
      width: 100%;
      height: 0;
      overflow: hidden;
      -webkit-transition: height 0.6s;
      -moz-transition: height 0.6s;
      -o-transition: height 0.6s;
      transition: height 0.6s;
    }
    .pop-up-mask {
      display: block;
      position: absolute;
      left: 0;
      bottom: 0;
      z-index: 996;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
    }
    .order-sec{
      padding-top: 10px;
    }
    .order-title{
      height: 30px;
      line-height: 30px;
      padding: 0 10px;
      font-size: 12px;
      color: #333;
    }
    .order-list{
      padding: 0 10px;
    }
    .list-content {
      position: relative;
      display: block;
      border-bottom: 1px solid #f5f5f5;
    }
    .order-pro-img {
      float: left;
      display: inline-block;
      width: 80px;
      height: 80px;
      vertical-align: top;
      margin-right: 10px;
    }
    .order-pro-img img{
      width: 100%;
    }
    .order-list-con {
      position: relative;
      display: block;
      margin-left: 70px;
      padding-bottom: 5px;
      /*border-bottom: 1px solid #f5f5f5;*/
      color: #999;
      font-size: 12px;
    }
    .order-list-title {
      float: left;
      width: 70%;
    }
    .order-list-t{
      color: #333;
      margin-bottom: 5px;
    }
    .order-list-price {
      float: left;
      display: inline-block;
      text-align: right;
      width: 20%;
      height: 50px;
    }
    .overTextH {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      text-overflow: ellipsis;
      overflow: hidden;
    }
    .overTextH3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      text-overflow: ellipsis;
      overflow: hidden
    }
    .order-total {
      margin-top: 10px;
      margin-bottom: 10px;
      margin-left: 10px;
      padding: 0 10px;
      font-size: 12px;
      color: #333;
    }

  </style>
</head>
<body>
<div class="by2-con">
  <div class="wheel-container">
    <div class="machine">
      <ul class="top-row clearfix">
        <li class="prize-cell" data-id="1" >
          <img src="Public/img/rolling/pkg.png">
        </li>
        <li class="prize-cell dark" data-id="2" >
          <img src="Public/img/rolling/smile.png">
        </li>
        <li class="prize-cell" data-id="3" >
          <img src="Public/img/rolling/pkg.png">
        </li>
        <li class="prize-cell dark" data-id="4" >
          <img src="Public/img/rolling/pkg.png">
        </li>
      </ul>
      <div class="middle-row clearfix">
        <ul class="middle-row-left">
          <li class="prize-cell" data-id="12" >
            <img src="Public/img/rolling/smile.png">
          </li>
          <li class="prize-cell" data-id="11" >
            <img src="Public/img/rolling/pkg.png">
          </li>
        </ul>
        <div class="machine-control-cell">
          <a href="javascript:;" class="machine-control" id="machine-control">
            <img src="Public/img/rolling/btn.png">
          </a>
        </div>
        <ul class="middle-row-right">
          <li class="prize-cell" data-id="5" >
            <img src="Public/img/rolling/smile.png">
          </li>
          <li class="prize-cell" data-id="6" >
            <img src="Public/img/rolling/pkg.png">
          </li>
        </ul>
      </div>
      <ul class="bottom-row">
        <li class="prize-cell" data-id="10">
          <img src="Public/img/rolling/smile.png">
        </li>
        <li class="prize-cell" data-id="9" >
          <img src="Public/img/rolling/pkg.png">
        </li>
        <li class="prize-cell" data-id="8" >
          <img src="Public/img/rolling/smile.png">
        </li>
        <li class="prize-cell" data-id="7" >
          <img src="Public/img/rolling/pkg.png">
        </li>
      </ul>
    </div>
    <div class="info-area">
      <div class="view-prize"><a href="javascript:;" class="js-view-prize">查看奖品</a></div>
      <ul class="activity-info">
        <li>1.活动有效时间：
          <div class="activity-info-content">2016.09.18 17:41:40 至 2016.09.30 23:59:00</div>
        </li>
        <li>2.活动说明：
          <div class="activity-info-content">1.关注禾健微商城获取1次抽奖机会,产品中奖率100%；
            <br>2.抽中实物奖品的粉丝按照系统提示点击领取赠品后和正品一起寄出，如果获奖者留下收件人信息有误导致收不到奖品，后果自己承担！
            <br>3、恶意刷奖者，取消资格且不予发货永久拉黑；
            <br>4、相同奖品的一人仅限领取一次，如收件人、电话和收货地址相同视为同一人；
            <br>6、有任何问题可以咨询：
            <br>美女小禾微信：jian150706
            <br>7、幸运大抽奖活动最终解释权归禾健官方旗舰店所有;</div>
          <div class="custom-richtext hide">1.关注禾健微商城获取1次抽奖机会,100%中奖；
            <br>2.抽中实物奖品的粉丝按照系统提示点击领取赠品后和正品一起寄出，如果获奖者留下收件人信息有误导致收不到奖品，后果自己承担！
            <br>3、恶意刷奖者，取消资格且不予发货永久拉黑；
            <br>4、相同奖品的一人仅限领取一次，如收件人、电话和收货地址相同视为同一人；
            <br>6、有任何问题可以咨询：
            <br>美女小禾微信：jian150706
            <br>7、幸运大抽奖活动最终解释权归禾健官方旗舰店所有;</div>
        </li>
        <li>3.发行方：
          <div class="activity-info-content">禾健官方旗舰店</div>
        </li>
        <p class="activity-note js-activity-note">备注：中奖积分请到<a href="https://h5.koudaitong.com/v2/showcase/usercenter?kdt_id=38629" class="user-center">会员中心</a>查看</p>
      </ul>
    </div>
  </div>

</div>

<div class="pop-mask " id="pop-mask">
  <div class="share-container " id="share-container">
    <img src="Public/img/rolling/share.png" class="share-img" />
    <div>为家人祈福接力，心诚则灵</div>
    <div>1、点击右上角<img src="Public/img/rolling/more.png" class="more-img" /></div>
    <div>2、选择分享到朋友圈<img src="Public/img/rolling/friends.png" class="friends-img" /></div>
  </div>
  <div class="pop-container hide" id="pop-container">
      <div class="pop-txt" id="pop-txt">
        恭喜抽中&nbsp;100元&nbsp;店铺优惠券!
      </div>
      <div class="pop-btn">
        <!--<a href="javascript:;" class="cancel" id="cancel">取消</a>-->
        <a href="javascript:;" class="ok" id="ok">免费领取</a>
      </div>
  </div>
  <div class="draw-container hide" id="draw-container">
    <div class="pop-txt" id="pop-draw">
      恭喜抽中&nbsp;100元&nbsp;店铺优惠券!
    </div>
    <div class="pop-btn">
      <a href="javascript:;" class="ok" id="know">知道了</a>
    </div>
  </div>
</div>
<div id="popUpWrap" class="pop-up-wrap hide">
  <div class="pop-up">
    <div class="pop-height">
      <section class="order-sec">
        <div class="order-title pl10 pr10">
          订单号：1609211248328630
        </div>
        <div class="order-list pl10 pr10">
          <a href="javascript:;" class="list-content clearfix">
              <span class="order-pro-img">
                  <img src="http://img.golddiy.com/Uploads/images/2016-09-07/57cfee294588d.png@1e_80w_80h_1c_0i_1o_90Q_1x.png">
              </span>
            <span class="order-list-con clearfix">
                  <span class="order-list-title">
                      <span class="order-list-t overTextH">广福寺释迦牟尼佛纪念章</span>
                      <span class="overTextH3 color-999">广福寺释迦牟尼佛纪念章广福寺释迦牟尼佛纪念章广福寺释迦寺释迦牟尼佛纪念章广福寺释迦寺释迦牟尼佛纪念章广福寺释迦牟尼佛纪念章</span>
                  </span>
                  <span class="order-list-price mt10 text-right">
                      ¥0.1<br><span class="color-999">x1</span>
                  </span>
              </span>
          </a>
        </div>
        <div class="order-total pl10 pr10">
          收貨地址：上海市靜安區xxxx號上海市靜安區xxxx號上海市靜安區xxxx號上海市靜安區xxxx號上海市靜安區xxxx號
        </div>
      </section>
    </div>
  </div>
  <!--蒙层-->
  <div class="js-mask pop-up-mask"></div>
</div>
<script type="text/javascript" src="Public/js/jquery-1.8.3.js"></script>
<script type="text/javascript" src="Public/js/jslottery.js"></script>
<script type="text/javascript">
  /*
   *   img, id
   *    s_id
  *
  * */
  var products = [
    {
      img:'Public/img/rolling/pkg.png',
      id:'1'
    },
    {
      img:'Public/img/rolling/smile.png',
      id:'2'
    },
    {
      img:'Public/img/rolling/pkg.png',
      id:'3'
    },
    {
      img:'Public/img/rolling/smile.png',
      id:'4'
    },
    {
      img:'Public/img/rolling/pkg.png',
      id:'5'
    },
    {
      img:'Public/img/rolling/smile.png',
      id:'6'
    },
    {
      img:'Public/img/rolling/pkg.png',
      id:'7'
    },
    {
      img:'Public/img/rolling/smile.png',
      id:'8'
    },
    {
      img:'Public/img/rolling/pkg.png',
      id:'9'
    },
    {
      img:'Public/img/rolling/smile.png',
      id:'10'
    },
    {
      img:'Public/img/rolling/pkg.png',
      id:'11'
    },
    {
      img:'Public/img/rolling/smile.png',
      id:'12'
    }
  ];
  var prize = {
    s_id: '6',
    name: '恭喜你获得100元优惠券'
  };
  var isDraw = true;
  $(function () {
    var popShare = function () {
      var mask = document.getElementById('pop-mask');
      var shareContainer = document.getElementById('share-container');

      var reg = new RegExp('(\\s|^)' + 'hide' + '(\\s|$)');
      mask.className = mask.className.replace(reg, ' ');
      shareContainer.className = shareContainer.className.replace(reg, ' ');

    };
//    popShare();

    var loadData = function () {
      var li_items=document.getElementsByClassName("prize-cell");
      for(var i = 0;i<li_items.length;i++){
        for (var j = 0;j<products.length;j++){
          if(li_items[i].getAttribute('data-id') == products[j].id){
            $(li_items[i]).children('img').attr('src',products[j].img);
          }

        }
      }
    };
    loadData();


    $('.js-view-prize').click(function(){
      $('#popUpWrap').removeClass('hide');
      $('.pop-up').height(200);
    }) ;
    $('.js-mask, .js-x').click(function(){
      $('.pop-up').height('0');
      setTimeout(function(){
        $('#popUpWrap').addClass('hide');
      },600);

    }) ;

    var jslottery = new Jslottery({
      scroll_dom:'prize-cell',
      scroll_dom_css_value:'#ffff7e',
      scroll_dom_attr:'data-id',
      scroll_dom_css:'background-color',
      start_position:Math.floor(Math.random()*12+1),
      callback:function(data){}
    });

/*    $(document).on('click', '#pop-mask', function () {
      $(this).addClass('hide');
    });*/

    var btn = document.getElementById('machine-control');
    jslottery.options.flag = true;
    btn.onclick = function () {
      /* 登陆判断 */

      /* 判定是否已經參與過 */
      if(isDraw){
        var mask = document.getElementById('pop-mask');
        var drawContainer = document.getElementById('draw-container');
        var know_btn =document.getElementById('know');
        var popTxt = document.getElementById('pop-draw');
        popTxt.innerHTML = '亲，您已抽过奖啦～';
        var reg = new RegExp('(\\s|^)' + 'hide' + '(\\s|$)');
        mask.className = mask.className.replace(reg, '');
        drawContainer.className = drawContainer.className.replace(reg, '');
        know_btn.onclick = function () {
          mask.className += ' hide';
          drawContainer.className += ' hide';
        };

        return false;
      }

      if(jslottery.options.flag) {
        jslottery.options.flag = false;
        ClickMe();
      }



    };
    function ClickMe(){
      jslottery.options.stop_position=parseInt(prize.s_id);
      jslottery.options.txt = prize.name;
      jslottery.options.isDraw = isDraw;
    jslottery.options.speed=50;
//    jslottery.options.speed_up_position=Math.floor(Math.random()*6+1);
//    jslottery.options.speed_down_position=Math.floor(Math.random()*6+1);
//    jslottery.options.speedUp=Math.floor(Math.random()*30+20);
//    jslottery.options.speedDown=Math.floor(Math.random()*100+600);
      jslottery.options.total_circle=Math.floor(Math.random()*4+1);
      jslottery.start();
    }
  });

</script>
</body>
</html>
